<?xml version="1.0" encoding="utf-8" ?>

<flow>
    <spec name="io_gpio">
        <inputs>
            <i alias="ch0" type="core.type.f64"/>
            <i alias="ch1" type="core.type.f64"/>
            <i alias="ch2" type="core.type.f64"/>
            <i alias="ch3" type="core.type.f64"/>
        </inputs>

        <outputs>
            <o alias="period" type="core.type.u32"/>
            <o alias="duty" type="core.type.f64"/>
        </outputs>
    </spec>

    <functions>
        <f name="pwm_out_ch0" by_spec="ctlst.io.pwm_out">
            <in alias="input">inputs/ch0</in>
            <param alias="channel">0</param>
            <param alias="period">1000</param>
            <param alias="max">750</param>
            <param alias="min">250</param>
            <param alias="bipolar">true</param>
        </f>
        <f name="pwm_in_ch1" by_spec="ctlst.io.pwm_in">
            <param alias="channel">1</param>
            <param alias="max">750</param>
            <param alias="min">250</param>
            <param alias="bipolar">true</param>
        </f>
        <f name="zero" by_spec="core.source.constant">
            <param alias="value">0.0</param>
        </f>
    </functions>

    <link_outputs>
        <link alias="period">pwm_in_ch1/period</link>
        <link alias="duty">pwm_in_ch1/duty</link>
    </link_outputs>
</flow>
